<app-loading-spinner></app-loading-spinner>

<!-- Navbar mejorada - solo visible cuando estÃ¡ logueado y no en rutas pÃºblicas -->
<nav class="navbar" *ngIf="mostrarNavbar && usuarioLogueado">
  <div class="navbar-container">
    <!-- Logo y nombre de la clÃ­nica -->
    <div class="navbar-brand" (click)="irAInicio()">
      <img src="https://sxdosrgvnxbxifxvasks.supabase.co/storage/v1/object/public/imagenes/diseno-logotipo-hospital-vector-cruz-medica_53876-136743.ico" alt="ClÃ­nica Behrens Logo" class="navbar-logo">
      <span class="navbar-title">ClÃ­nica Behrens</span>
    </div>

    <!-- Info del usuario y acciones -->
    <div class="navbar-actions">
      <!-- Avatar y nombre -->
      <div class="user-info" (click)="irAPerfil()">
        <div class="user-avatar">
          <img *ngIf="avatarUsuario" [src]="avatarUsuario" [alt]="nombreUsuario">
          <span *ngIf="!avatarUsuario" class="avatar-placeholder">
            {{ nombreUsuario.charAt(0) }}
          </span>
        </div>
        <div class="user-details">
          <span class="user-name">{{ nombreUsuario }}</span>
          <span class="user-role">{{ tipoUsuario }}</span>
        </div>
      </div>

      <!-- BotÃ³n de logout -->
      <button class="btn-logout" (click)="logout()" title="Cerrar SesiÃ³n">
        <span class="logout-icon">ðŸšª</span>
        <span class="logout-text">Salir</span>
      </button>
    </div>
  </div>
</nav>

<!-- Contenido principal con padding cuando hay navbar -->
<div class="main-content" [class.with-navbar]="mostrarNavbar && usuarioLogueado">
  <router-outlet @routeFade></router-outlet>
</div>
